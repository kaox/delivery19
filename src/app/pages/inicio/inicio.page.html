<app-header titulo="Delivery-19"></app-header>

<ion-content>
  <ion-grid fixed>
    <ion-row>
      <ion-col size="12" size-lg="6" size-md="6" size-sm="6" size-xs="12" >
        <ion-item>
          <ion-label>Estoy buscando...</ion-label>
          <ion-select placeholder="Select One" interface="popover" (ionChange)="categoriaChange($event)">
            <ion-select-option value="0">Todas</ion-select-option>
            <ion-select-option value="{{categoria.codigo}}" 
              *ngFor="let categoria of categorias" >
              {{categoria.nombre}}
            </ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
      <ion-col size="12" size-lg="6" size-md="6" size-sm="6" size-xs="12" >
        <ion-item>
          <ion-label>En...</ion-label>
          <ionic-selectable 
            [(ngModel)]="selec_distrito" 
            [items]="distritos"
            itemValueField="codigo_ubigeo"
            itemTextField="etiqueta_ubigeo"
            [canSearch]="true"
            (onChange)="distritoChange($event)">
            <ng-template ionicSelectableIconTemplate>
              <ion-icon name="location-outline"></ion-icon>
            </ng-template>
          </ionic-selectable>
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-grid fixed>
    <ion-row>
      <ion-col size="12" size-lg="4" size-md="4" size-sm="6" size-xs="12" 
        *ngFor="let tienda of tiendas | filtro: selected_categoria: selected_distrito ">
        <ion-card>
          <ion-card-header>
            <!-- <div class="tienda-more">
              <ion-button fill="clear" (click)="openMenu()" >
                <ion-icon slot="icon-only" name="ellipsis-vertical-outline"></ion-icon>
              </ion-button>
            </div> -->
            <ion-card-title>
              {{ tienda.nombre }}
            </ion-card-title>
            <ion-card-content>
              <p>{{ tienda.descripcion }}</p>
              <ion-list lines="none">
                <ion-item>
                  <ion-label>
                    <h2>Pago</h2>
                    <p>
                      <ng-template ngFor let-item [ngForOf]="tienda.pago" let-i="index">
                        <ng-template [ngIf]="item == 1"><ion-icon name="cash-outline"></ion-icon> Efectivo </ng-template>
                        <ng-template [ngIf]="item == 2"><ion-icon name="card-outline"></ion-icon> Tarjeta </ng-template>
                        <ng-template [ngIf]="item == 3"><ion-icon name="logo-google-playstore"></ion-icon> Aplicaci√≥n </ng-template>
                      </ng-template>
                    </p>
                  </ion-label>
                </ion-item>
                <ion-item>
                  <ion-label>
                    <h2>Entrega</h2>
                    <p>
                      <ng-template ngFor let-item [ngForOf]="tienda.entrega" let-i="index">
                        <ng-template [ngIf]="item == 1"><ion-icon name="bicycle-outline"></ion-icon> Delivery </ng-template>
                        <ng-template [ngIf]="item == 2"><ion-icon name="cart-outline"></ion-icon> Recojo en tienda </ng-template>
                      </ng-template>
                    </p>
                  </ion-label>
                </ion-item>
                <ion-item>
                  <ion-label>
                    <h2>Contacto</h2>
                    <p *ngIf="tienda.celular"><ion-icon name="logo-whatsapp"></ion-icon> {{ tienda.celular }}</p>
                    <p *ngIf="tienda.website"><ion-icon name="home-outline"></ion-icon> {{ tienda.website }}</p>
                    <p *ngIf="tienda.facebook"><ion-icon name="logo-facebook"></ion-icon> {{ tienda.facebook }}</p>
                  </ion-label>
                </ion-item>
              </ion-list>
            </ion-card-content>
          </ion-card-header>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
