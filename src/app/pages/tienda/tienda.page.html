<app-header titulo="Tienda"></app-header>

<ion-content>
  <ion-card>
    <ion-card-header color="light">
      <!-- <div class="tienda-more">
        <ion-button fill="clear" (click)="openMenu()" >
          <ion-icon slot="icon-only" name="ellipsis-vertical-outline"></ion-icon>
        </ion-button>
      </div> -->
      <ion-card-title>
        {{ tienda.name }}
      </ion-card-title>
    </ion-card-header>
    <ion-slides pager="true" zoom="true" *ngIf="items!==undefined">
      <ion-slide *ngFor="let item of items | async">
        <img [src]="item.imageUrl" />
      </ion-slide>
    </ion-slides>
    <ion-card-content>
      <p>{{ tienda.descripcion }}</p>
      <ion-list lines="none">
        <ion-item *ngIf="tienda.direccion">
          <ion-label>
            <h2>Dirección</h2>
            <p>
              {{tienda.direccion}}
            </p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-label>
            <h2>Pago</h2>
            <p>
              <ng-template ngFor let-item [ngForOf]="tienda.pagos" let-i="index">
                <ng-template [ngIf]="item == 1"><ion-icon name="cash-outline"></ion-icon> Efectivo </ng-template>
                <ng-template [ngIf]="item == 2"><ion-icon name="card-outline"></ion-icon> Tarjeta </ng-template>
                <ng-template [ngIf]="item == 3"><ion-icon name="logo-google-playstore"></ion-icon> Aplicación </ng-template>
              </ng-template>
            </p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-label>
            <h2>Entrega</h2>
            <p>
              <ng-template ngFor let-item [ngForOf]="tienda.entregas" let-i="index">
                <ng-template [ngIf]="item == 1"><ion-icon name="bicycle-outline"></ion-icon> Delivery </ng-template>
                <ng-template [ngIf]="item == 2"><ion-icon name="cart-outline"></ion-icon> Recojo en tienda </ng-template>
              </ng-template>
            </p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-label>
            <h2>Contacto</h2>
            <p *ngIf="tienda.telefono"><ion-icon name="call-outline"></ion-icon> <a href="tel:{{tienda.telefono}}" > {{ tienda.telefono }}</a></p>
            <p *ngIf="tienda.celular"><ion-icon name="logo-whatsapp"></ion-icon> <a href="https://wa.me/51{{tienda.celular}}" target="_blank"> {{ tienda.celular }}</a></p>
            <p *ngIf="tienda.website"><ion-icon name="home-outline"></ion-icon> <a *ngIf="tienda.website.substr(0, 3) === 'www'" href="http://{{tienda.website}}" target="_blank"> {{ tienda.website }}</a><a *ngIf="tienda.website.substr(0, 3) !== 'www'" href="{{tienda.website}}" target="_blank"> {{ tienda.website }}</a></p>
            <p *ngIf="tienda.facebook"><ion-icon name="logo-facebook"></ion-icon> <a href="{{ tienda.facebook }}" target="_blank"> {{ tienda.facebook }}</a></p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-button *ngIf="tienda.celular" fill="solid" color="success" href="https://wa.me/51{{tienda.celular}}" target="_blank"><ion-icon name="logo-whatsapp"></ion-icon> Contactalo</ion-button>
          <ion-button *ngIf="tienda.latitud" fill="solid" href="https://maps.google.com/?q={{tienda.latitud}},{{tienda.longitud}}" target="_blank"><ion-icon name="navigate-outline"></ion-icon> Como llego</ion-button>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
  <ion-fab horizontal="start" vertical="bottom" slot="fixed" routerLink="/inicio" routerDirection="back">
    <ion-fab-button color="dark" >
      <ion-icon name="arrow-back-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
